<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>低予算向け広告運用｜一次スクリーニング</title>
  <style>
    :root{--bg:#0b0c10;--fg:#f7f7f7;--muted:#9aa0a6;--card:#111317;--accent:#4f8cff;--ok:#10b981;--warn:#f59e0b;--ng:#ef4444}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic UI",Meiryo,sans-serif}
    .wrap{max-width:900px;margin:24px auto;padding:16px}
    .card{background:var(--card);border:1px solid #1f232b;border-radius:16px;padding:24px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    h1{font-size:24px;margin:0 0 8px}
    p.lead{margin:0 0 16px;color:var(--muted)}
    fieldset{border:none;margin:16px 0;padding:0}
    legend{font-weight:700;margin:0 0 8px}
    .q{display:grid;gap:10px;margin:14px 0;padding:16px;border:1px solid #262a33;border-radius:12px;background:#0f1218}
    label{display:flex;align-items:center;gap:10px}
    .note{color:var(--muted);font-size:13px}
    select, input[type="number"], input[type="email"], input[type="text"]{width:100%;padding:10px 12px;border:1px solid #2b303b;border-radius:10px;background:#0e1117;color:var(--fg)}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:720px){.row{grid-template-columns:1fr}}
    .actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
    button{appearance:none;border:none;border-radius:12px;padding:12px 18px;font-weight:700;cursor:pointer}
    .primary{background:var(--accent);color:#fff}
    .ghost{background:transparent;border:1px solid #2b303b;color:var(--fg)}
    .result{margin-top:18px;padding:16px;border-radius:12px;border:1px dashed #2b303b}
    .pill{display:inline-flex;align-items:center;gap:6px;border-radius:999px;padding:6px 10px;font-size:13px;margin:0 8px 8px 0}
    .ok{background:rgba(16,185,129,.12);color:#bfffe2;border:1px solid rgba(16,185,129,.35)}
    .warn{background:rgba(245,158,11,.12);color:#ffe1b0;border:1px solid rgba(245,158,11,.35)}
    .ng{background:rgba(239,68,68,.12);color:#ffc7c7;border:1px solid rgba(239,68,68,.35)}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media (max-width:900px){.grid-3{grid-template-columns:1fr}}
    .small{font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>低予算向け広告運用｜一次スクリーニング</h1>
      <p class="lead">24時間セルフ判定。3分で「適合 / 条件付き / 非適合」を表示します（内部基準ベース）。送信は任意、判定だけの利用もOK。</p>
      
      <form id="form">
        <fieldset class="q">
          <legend>1. 月予算</legend>
          <select id="budget" required>
            <option value="" disabled selected>選択してください</option>
            <option value=0>〜 9.9万円</option>
            <option value=1>10 〜 19.9万円</option>
            <option value=2>20万円以上</option>
          </select>
          <div class="note">学習安定の目安は月10万円以上。</div>
        </fieldset>

        <fieldset class="q">
          <legend>2. 客単価（平均）</legend>
          <select id="aov" required>
            <option value="" disabled selected>選択してください</option>
            <option value=0>〜 ¥3,000</option>
            <option value=1>¥3,001 〜 ¥9,999</option>
            <option value=2>¥10,000 以上</option>
          </select>
        </fieldset>

        <fieldset class="q">
          <legend>3. 目的（最も近いもの）</legend>
          <select id="goal" required>
            <option value="" disabled selected>選択してください</option>
            <option value="purchase">購入・予約・来店（売上直結）</option>
            <option value="lead">問い合わせ・資料請求（追客前提）</option>
            <option value="awareness">認知・PV</option>
          </select>
        </fieldset>

        <fieldset class="q">
          <legend>4. 計測タグ（CV）</legend>
          <select id="tracking" required>
            <option value="" disabled selected>選択してください</option>
            <option value="ok">設置可（GTM/ピクセル可）</option>
            <option value="partial">一部のみ（電話・LINEボタン等）</option>
            <option value="ng">不可（設置NG・社内ルール）</option>
          </select>
        </fieldset>

        <fieldset class="q">
          <legend>5. LP・サイトの改修可否</legend>
          <select id="lp" required>
            <option value="" disabled selected>選択してください</option>
            <option value="ok">改修OK（速度・CTA・内容変更可）</option>
            <option value="partial">軽微のみ（文言・画像差替程度）</option>
            <option value="ng">変更不可</option>
          </select>
        </fieldset>

        <fieldset class="q">
          <legend>6. 業種</legend>
          <select id="industry" required>
            <option value="" disabled selected>選択してください</option>
            <option value="good">美容／整体／塾／ジム／士業／予約型飲食（高単価）</option>
            <option value="neutral">EC（D2C）／オンライン講座／SaaS／リード獲得</option>
            <option value="bad">低単価飲食・日用品EC・不動産・自動車など検討長期</option>
          </select>
        </fieldset>

        <fieldset class="q">
          <legend>7. 商圏・競合</legend>
          <select id="market" required>
            <option value="" disabled selected>選択してください</option>
            <option value="niche">駅名×業種でニッチ（競合少）</option>
            <option value="mid">標準的</option>
            <option value="red">激戦（都市部×有名業態）</option>
          </select>
        </fieldset>

        <fieldset class="q">
          <legend>8. リード対応スピード</legend>
          <select id="sla" required>
            <option value="" disabled selected>選択してください</option>
            <option value="fast">即時〜30分</option>
            <option value="mid">当日中</option>
            <option value="slow">翌日以降</option>
          </select>
          <div class="note">初動が遅いと獲得効率は大きく低下します。</div>
        </fieldset>

        <fieldset class="q">
          <legend>9. クリエイティブ素材</legend>
          <select id="assets" required>
            <option value="" disabled selected>選択してください</option>
            <option value="rich">写真/動画/実績あり</option>
            <option value="basic">最低限（写真数枚）</option>
            <option value="poor">ほぼ無し</option>
          </select>
        </fieldset>

        <fieldset class="q">
          <legend>10. レポート頻度の希望</legend>
          <select id="report" required>
            <option value="" disabled selected>選択してください</option>
            <option value="monthly">月次でOK（簡易）</option>
            <option value="biweekly">隔週で欲しい</option>
            <option value="weekly">週次で詳細レポート必須</option>
          </select>
        </fieldset>

        <div class="actions">
          <button type="button" class="primary" id="judge">判定する</button>
          <button type="reset" class="ghost" id="resetBtn">リセット</button>
          <button type="button" class="ghost" id="printBtn">PDFに保存 / 印刷</button>
        </div>

        <div id="result" class="result" hidden></div>

        <fieldset class="q" id="leadBox" hidden>
          <legend>結果を送って相談する（任意）</legend>
          <div class="row">
            <input type="text" id="name" placeholder="ご担当者名" />
            <input type="email" id="email" placeholder="メールアドレス" />
          </div>
          <div class="actions">
            <button type="button" class="primary" id="mailtoBtn">結果をメールで送る</button>
            <span class="small">※ メールソフトが起動します。社内/外部共有にご利用ください。</span>
          </div>
        </fieldset>
      </form>
    </div>

    <p class="small" style="margin-top:12px;color:#9aa0a6">© 低予算向け広告運用｜簡易スクリーニング（ローカルで動作。個人情報はサーバー送信されません）</p>
  </div>

<script>
(function(){
  const $ = (id)=>document.getElementById(id)
  const fields = ['budget','aov','goal','tracking','lp','industry','market','sla','assets','report']

  function score(){
    let risk = 0; const tags=[]
    // 1 予算
    const budget = +$("budget").value
    if(budget===0){ risk+=1; tags.push(tag('月予算10万未満','ng')) }
    else if(budget===1){ tags.push(tag('月予算10〜19万','warn')) }
    else { tags.push(tag('月予算20万以上','ok')) }

    // 2 客単価
    const aov = +$("aov").value
    if(aov===0){ risk+=1; tags.push(tag('客単価~¥3,000','ng')) }
    else if(aov===1){ tags.push(tag('客単価~¥9,999','warn')) }
    else { tags.push(tag('客単価¥10,000+','ok')) }

    // 3 目的
    const goal = $("goal").value
    if(goal==='awareness'){ risk+=1; tags.push(tag('目的=認知','ng')) }
    else if(goal==='lead'){ tags.push(tag('目的=リード','warn')) }
    else { tags.push(tag('目的=購入/予約','ok')) }

    // 4 計測
    const tracking = $("tracking").value
    if(tracking==='ng'){ risk+=1; tags.push(tag('CV計測不可','ng')) }
    else if(tracking==='partial'){ tags.push(tag('CV一部のみ','warn')) }
    else { tags.push(tag('CV計測OK','ok')) }

    // 5 LP
    const lp = $("lp").value
    if(lp==='ng'){ risk+=1; tags.push(tag('LP改修不可','ng')) }
    else if(lp==='partial'){ tags.push(tag('LP軽微のみ','warn')) }
    else { tags.push(tag('LP改修OK','ok')) }

    // 6 業種
    const industry = $("industry").value
    if(industry==='bad'){ risk+=1; tags.push(tag('業種=不適合寄り','ng')) }
    else if(industry==='neutral'){ tags.push(tag('業種=中立','warn')) }
    else { tags.push(tag('業種=適合','ok')) }

    // 7 商圏
    const market = $("market").value
    if(market==='red'){ risk+=1; tags.push(tag('商圏=激戦','ng')) }
    else if(market==='mid'){ tags.push(tag('商圏=標準','warn')) }
    else { tags.push(tag('商圏=ニッチ','ok')) }

    // 8 SLA
    const sla = $("sla").value
    if(sla==='slow'){ risk+=1; tags.push(tag('リード対応=遅い','ng')) }
    else if(sla==='mid'){ tags.push(tag('リード対応=当日','warn')) }
    else { tags.push(tag('リード対応=即時','ok')) }

    // 9 クリエイティブ
    const assets = $("assets").value
    if(assets==='poor'){ risk+=1; tags.push(tag('素材ほぼ無し','ng')) }
    else if(assets==='basic'){ tags.push(tag('素材=最低限','warn')) }
    else { tags.push(tag('素材=十分','ok')) }

    // 10 レポート
    const report = $("report").value
    if(report==='weekly'){ risk+=1; tags.push(tag('週次詳細レポ必須','ng')) }
    else if(report==='biweekly'){ tags.push(tag('隔週レポ','warn')) }
    else { tags.push(tag('月次レポでOK','ok')) }

    return {risk, tags}
  }

  function tag(txt,type){ return `<span class="pill ${type}">${txt}</span>` }

  function judge(){
    // 全必須チェック
    for(const f of fields){ if(!$(f).value){ alert('未回答の項目があります'); return } }
    const {risk, tags} = score()
    const box = $("result")
    let headline='', detail=''
    if(risk>=2){
      headline = `非適合（リスク ${risk}/10）`
      detail = `以下の要因で短期の成果が出にくい可能性があります。高単価化・CV計測・LP改善・対応SLAの見直し等をご検討ください。`
      box.style.borderColor = 'rgba(239,68,68,.6)'
    } else if(risk===1){
      headline = `条件付き適合（リスク ${risk}/10）`
      detail = `1点だけ改善すれば運用可能です。初月は単一媒体＆明確なCVで小さく検証しましょう。`
      box.style.borderColor = 'rgba(245,158,11,.6)'
    } else {
      headline = `適合（リスク 0/10）`
      detail = `低予算でも3か月以内の成果実感が狙えます。検索×リマーケ等のシンプル構成で開始推奨。`
      box.style.borderColor = 'rgba(16,185,129,.6)'
    }
    box.innerHTML = `<h3 style="margin:0 0 8px">${headline}</h3><p style="margin:0 0 8px" class="note">${detail}</p><div>${tags.join('')}</div>`
    box.hidden = false
    $("leadBox").hidden = false
    // 保存（任意）
    localStorage.setItem('lb_screening', JSON.stringify(Object.fromEntries(fields.map(id=>[id,$(id).value]))))
  }

  $("judge").addEventListener('click', judge)
  $("printBtn").addEventListener('click', ()=>window.print())
  $("resetBtn").addEventListener('click', ()=>{localStorage.removeItem('lb_screening'); $("result").hidden=true; $("leadBox").hidden=true})

  $("mailtoBtn").addEventListener('click', ()=>{
    const name = $("name").value||''
    const email = $("email").value||''
    const saved = JSON.parse(localStorage.getItem('lb_screening')||'{}')
    const {risk} = score()
    const subject = encodeURIComponent('一次スクリーニング結果の共有')
    const lines = fields.map(id=>`- ${id}: ${saved[id]||$(id).value}`)
    const body = encodeURIComponent(
      `${name}\n${email}\n\nリスクスコア: ${risk}/10\n\n回答:\n${lines.join('\n')}`
    )
    location.href = `mailto:?subject=${subject}&body=${body}`
  })

  // 既存値の復元
  try{ const saved = JSON.parse(localStorage.getItem('lb_screening')||'{}'); fields.forEach(id=>{ if(saved[id]) $(id).value = saved[id] }) }catch(e){}
})();
</script>
</body>
</html>
